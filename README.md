# Графика за историята на цената на договорен фонд Експат Природни Ресурси
Понеже Експат не предлагат графично историята на цената на фонда, се налага да я записваме и рисуваме сами.

# Изисквания
- Прилично нова версия на Python и следните модули:
- Requests за сваляне на данните;
- BeautifulSoup за четене на HTML;
- Pandas за обработката на данните;
- Plotly за графиката.

# Как работи
Експат публикуват днешната цена на активите на фонда на страницата https://www.expat.bg/bg/funds/ExpatNaturalResources, а историята ѝ - само в PDF месец по месец. Този скрипт сваля текущата цена и търси "Нетна стойност на активите за един дял" из документа. Записваме съответната стойност в лога и изчертаваме историята в графика.

За да изчертаем цената от началото на фонда трябва да имаме историята ѝ вече налична. В репото има файл `natres.log`, който се обновява периодично, но може да се попълни и ръчно на място със стари данни. В секцията "Документи -> Периодична Информация" има PDF с месечни отчети. Най-лесният начин да се копира от него е с Okular - има функция `Table Selection`. Експат Природни Ресурси е на последната страница. Така файл по файл можем да свалим информацията и да я запишем в natres.log.

# Как се ползва
Сваляме репото и пускаме `natres.py` в crontab веднъж дневно. Страницата се обновява около 11 сутринта, препоръчително е да се пуска късния следобед. Може да върви и по-често - ако информацията за деня вече е в лога, скриптът само преначертава графиката.
